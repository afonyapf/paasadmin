–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ú–æ–¥—É–ª—å "–®–∞–±–ª–æ–Ω—ã" –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ (workspace). –û–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –≤–∫–ª–∞–¥–æ–∫: –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤, –†–∞–∑–¥–µ–ª—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü.

–†–∞–∑–¥–µ–ª –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É /admin/templates –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

–í–∫–ª–∞–¥–∫–∞ 1. –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü—Ä–æ—Å–º–æ—Ç—Ä, —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ workspace.

UI (Frontend)

–¢–∞–±–ª–∏—Ü–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏:

–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞

–¢–∏–ø (client, supplier)

–í–µ—Ä—Å–∏—è

–ê–∫—Ç–∏–≤–µ–Ω (–¥–∞/–Ω–µ—Ç)

–ü—Ä–∏–º–µ–Ω—ë–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–¥–∞/–Ω–µ—Ç)

–ö–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å / –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"

–ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω"

–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —à–∞–±–ª–æ–Ω–∞

–†–µ–¥–∞–∫—Ç–æ—Ä —à–∞–±–ª–æ–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü (–Ω–∞ –æ—Å–Ω–æ–≤–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å—Ö–µ–º)

–†–∞–∑–¥–µ–ª—ã (–∏–∑ –≤–∫–ª–∞–¥–∫–∏ 2)

–°–ø–∏—Å–æ–∫ —Ñ–∏—á –∏ —Ä–æ–ª–µ–π

–ü—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π —Ç–∞—Ä–∏—Ñ

–ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π (template_versions)

–ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫ workspace"

–í–∫–ª–∞–¥–∫–∞ 2. –†–∞–∑–¥–µ–ª—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞–º–∏ (views/features), –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã –≤ —à–∞–±–ª–æ–Ω—ã –∏ —Ç–∞—Ä–∏—Ñ—ã.

UI

–¢–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–¥–µ–ª–æ–≤ —Å–æ —Å—Ç–æ–ª–±—Ü–∞–º–∏:

–ù–∞–∑–≤–∞–Ω–∏–µ

–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ä–∞–∑–¥–µ–ª (–µ—Å–ª–∏ –µ—Å—Ç—å)

–¢–∏–ø –¥–æ—Å—Ç—É–ø–∞ (–æ—Ç–∫—Ä—ã—Ç—ã–π, –∑–∞–∫—Ä—ã—Ç—ã–π)

–ü—Ä–∏–≤—è–∑–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

–§–ª–∞–≥ "–°–∏—Å—Ç–µ–º–Ω—ã–π"

–°—Ç–∞—Ç—É—Å (–≤–∫–ª/–≤—ã–∫–ª)

–§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∞

–ù–∞–∑–≤–∞–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ä–∞–∑–¥–µ–ª (nullable)

–¢–∏–ø –¥–æ—Å—Ç—É–ø–∞: open / restricted

–ü—Ä–∏–≤—è–∑–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (–≤—ã–±–æ—Ä –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö)

–û–ø–∏—Å–∞–Ω–∏–µ (optional)

Backend API

GET /api/admin/sections

POST /api/admin/sections

PATCH /api/admin/sections/:id

DELETE /api/admin/sections/:id

–¢–∞–±–ª–∏—Ü–∞: sections

CREATE TABLE sections (
    id UUID PRIMARY KEY,
    name TEXT NOT NULL,
    parent_id UUID REFERENCES sections(id),
    table_name TEXT,
    is_system BOOLEAN DEFAULT FALSE,
    access_type TEXT CHECK (access_type IN ('open', 'restricted')),
    description TEXT,
    created_at TIMESTAMP DEFAULT NOW()
);

–í–∫–ª–∞–¥–∫–∞ 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–∞–º–∏ —Ç–∞–±–ª–∏—Ü, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ —à–∞–±–ª–æ–Ω–∞—Ö –∏ —Ä–∞–∑–¥–µ–ª–∞—Ö.

–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–∞–±–ª–∏—Ü (–∞–Ω–∞–ª–æ–≥ 1–°)

üìó –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏

üìò –î–æ–∫—É–º–µ–Ω—Ç—ã

üìô –†–µ–≥–∏—Å—Ç—Ä—ã

üìí –ñ—É—Ä–Ω–∞–ª—ã

üìì –û—Ç—á—ë—Ç—ã

üìï –û–±—Ä–∞–±–æ—Ç–∫–∏

UI

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (accordion –∏–ª–∏ —Ç–∞–±—ã)

–°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü –≤ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:

–ù–∞–∑–≤–∞–Ω–∏–µ

–ö–æ–¥

–¢–∏–ø

–ö–Ω–æ–ø–∫–∏ [–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å] / [–£–¥–∞–ª–∏—Ç—å] / [–°–æ–∑–¥–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ]

–§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã

–ù–∞–∑–≤–∞–Ω–∏–µ

–ö–æ–¥ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π slug)

–¢–∏–ø (directory, document, register, ...)

–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–æ–ª—è (–≥–∞–ª–æ—á–∫–∏: created_at, updated_at –∏ —Ç.–ø.)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ–ª—è:

–ù–∞–∑–≤–∞–Ω–∏–µ

–¢–∏–ø (string, number, boolean, date, reference, select)

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–°–≤—è–∑—å —Å –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü–µ–π (–µ—Å–ª–∏ reference)

–§–ª–∞–≥ is_system

Backend API

GET /api/admin/table-schemas

POST /api/admin/table-schemas

PATCH /api/admin/table-schemas/:id

DELETE /api/admin/table-schemas/:id

–¢–∞–±–ª–∏—Ü—ã –ë–î:

CREATE TABLE global_table_schemas (
    id UUID PRIMARY KEY,
    name TEXT NOT NULL,
    code TEXT UNIQUE NOT NULL,
    type TEXT CHECK (type IN ('directory', 'document', 'register', 'journal', 'report', 'procedure')),
    is_system BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE global_table_fields (
    id UUID PRIMARY KEY,
    schema_id UUID REFERENCES global_table_schemas(id) ON DELETE CASCADE,
    name TEXT NOT NULL,
    label TEXT NOT NULL,
    type TEXT,
    is_required BOOLEAN DEFAULT FALSE,
    is_system BOOLEAN DEFAULT FALSE,
    reference_table TEXT,
    options JSONB
);

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–∏

–û–±—ä–µ–∫—Ç

–°–≤—è–∑–∞–Ω —Å

section

global_table_schemas

template

sections, features, roles

workspace

template, plan, db_uri

plan_features

—Ñ–∏–ª—å—Ç—Ä—É—é—Ç sections

custom_fields

–ø—Ä–∏–º–µ–Ω–∏–º—ã —Ç–æ–ª—å–∫–æ –≤ workspace

–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å:

Backend

–ú–æ–¥–µ–ª–∏ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ sections, global_table_schemas, global_table_fields

CRUD API –¥–ª—è –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫

–õ–æ–≥–∏–∫–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤ (template_versions)

Frontend

UI –¥–ª—è –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫ (—Ç–∞–±–ª–∏—Ü—ã, —Ñ–æ—Ä–º—ã, –º–æ–¥–∞–ª–∫–∏)

State-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ –∏ –µ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä

–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

